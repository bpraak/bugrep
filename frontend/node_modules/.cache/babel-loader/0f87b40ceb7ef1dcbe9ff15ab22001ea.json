{"ast":null,"code":"import axios from 'axios';\nimport { message } from 'antd';\nimport { goBack, push } from 'connected-react-router';\nexport const getLatestIssues = () => (dispatch, getState) => {\n  const config = {\n    headers: {\n      'content-type': 'application/json'\n    }\n  };\n  const userId = getState().auth.user.id;\n  axios.get('http://127.0.0.1:8000/backend/users/' + userId + '/your_issues/', config).then(response => {\n    dispatch({\n      type: 'LATEST_ISSUES',\n      payload: response.data\n    });\n  }).catch(error => {\n    console.log(error);\n  });\n};\nexport const changeStatus = (status, bugId) => (dispatch, getState) => {\n  const token = getState().auth.token;\n  const config = {\n    headers: {\n      'content-type': 'application/json'\n    }\n  };\n\n  if (token) {\n    config.headers['Authorization'] = `Token ${token}`;\n  }\n\n  const data = {\n    status\n  };\n  axios.patch('http://127.0.0.1:8000/backend/issues/' + bugId + '/', data, config).then(response => {\n    dispatch(getLatestIssues());\n  }).catch(error => {\n    console.log(error);\n  });\n};\nexport const changeAssignedUser = (user, bugId) => (dispatch, getState) => {\n  const token = getState().auth.token;\n  const config = {\n    headers: {\n      'content-type': 'application/json'\n    }\n  };\n\n  if (token) {\n    config.headers['Authorization'] = `Token ${token}`;\n  }\n\n  const data = {\n    assigned_user: user\n  };\n  axios.patch('http://127.0.0.1:8000/backend/issues/' + bugId + '/', data, config).then(response => {\n    console.log(response);\n    dispatch(getLatestIssues());\n  }).catch(error => {\n    console.log(error);\n  });\n};\nexport const addIssue = form_data => (dispatch, getState) => {\n  const userId = getState().auth.user.id;\n  form_data.append('status', 0);\n  form_data.append('reported_user', userId);\n  const config = {\n    headers: {\n      'content-type': 'multipart/form-data'\n    }\n  };\n  axios.post('http://127.0.0.1:8000/backend/issues/', form_data, config).then(response => {\n    dispatch({\n      type: 'ADD_ISSUE',\n      payload: response.data\n    });\n    dispatch(push('Bugs/' + response.data.id + '/'));\n    dispatch(getLatestIssues());\n    message.info('Added Successfully');\n  }).catch(error => {\n    console.log(error);\n\n    for (var value of form_data.values()) {\n      console.log(value);\n    }\n  });\n};\nexport const deleteIssue = issueId => (dispatch, getState) => {\n  const token = getState().auth.token;\n  const config = {\n    headers: {\n      'content-type': 'application/json'\n    }\n  };\n\n  if (token) {\n    config.headers['Authorization'] = `Token ${token}`;\n  }\n\n  axios.delete('http://127.0.0.1:8000/backend/issues/' + issueId + '/', config).then(() => {\n    dispatch(goBack());\n    dispatch(getLatestIssues());\n    message.info('Deleted Successfully');\n  }).catch(error => {\n    console.log(error);\n  });\n};","map":{"version":3,"sources":["/Users/prakhar/Desktop/IMG_Assignments/django/bugrep/frontend/src/store/actions/issueActions.js"],"names":["axios","message","goBack","push","getLatestIssues","dispatch","getState","config","headers","userId","auth","user","id","get","then","response","type","payload","data","catch","error","console","log","changeStatus","status","bugId","token","patch","changeAssignedUser","assigned_user","addIssue","form_data","append","post","info","value","values","deleteIssue","issueId","delete"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { message } from 'antd';\nimport { goBack, push } from 'connected-react-router';\n\nexport const getLatestIssues = () => (dispatch, getState) => {\n    const config = {\n        headers: {\n            'content-type': 'application/json'\n        }\n    }\n    \n    const userId = getState().auth.user.id;\n\n    axios.get('http://127.0.0.1:8000/backend/users/'+userId+'/your_issues/', config)\n        .then(response => {\n            dispatch({\n                type: 'LATEST_ISSUES',\n                payload: response.data,\n            });\n        })\n        .catch(error => {\n            console.log(error);\n        });\n}\n\nexport const changeStatus = (status, bugId) => (dispatch, getState) => {\n    const token = getState().auth.token;\n\n    const config = {\n        headers: {\n            'content-type': 'application/json'\n        }\n    }\n\n    if (token) {\n        config.headers['Authorization'] = `Token ${token}`;\n    }\n\n    const data = {\n        status\n    }\n\n    axios.patch('http://127.0.0.1:8000/backend/issues/'+bugId+'/', data, config)\n        .then(response => {\n            dispatch(getLatestIssues());\n        })\n        .catch(error => {\n            console.log(error);\n        });\n}\n\nexport const changeAssignedUser = (user, bugId) => (dispatch, getState) => {\n    const token = getState().auth.token;\n\n    const config = {\n        headers: {\n            'content-type': 'application/json'\n        }\n    }\n\n    if (token) {\n        config.headers['Authorization'] = `Token ${token}`;\n    }\n\n    const data = {\n        assigned_user: user\n    }\n\n    axios.patch('http://127.0.0.1:8000/backend/issues/' + bugId + '/', data, config)\n        .then(response => {\n            console.log(response)\n            dispatch(getLatestIssues());\n        })\n        .catch(error => {\n            console.log(error);\n        });\n}\n\nexport const addIssue = (form_data) => (dispatch, getState) => {\n    const userId = getState().auth.user.id\n\n    form_data.append('status', 0);\n    form_data.append('reported_user', userId);\n\n    const config = {\n        headers: {\n            'content-type': 'multipart/form-data'\n        }\n    }\n\n    axios.post('http://127.0.0.1:8000/backend/issues/', form_data, config)\n        .then(response => {\n            dispatch({\n                type: 'ADD_ISSUE',\n                payload: response.data,\n            });\n            dispatch(push('Bugs/'+response.data.id+'/'))\n            dispatch(getLatestIssues());\n\n            message.info('Added Successfully');\n        })\n        .catch(error => {\n            console.log(error);\n            for (var value of form_data.values()) {\n                console.log(value);\n            }\n        });\n}\n\nexport const deleteIssue = (issueId) => (dispatch, getState) => {\n    const token = getState().auth.token;\n\n    const config = {\n        headers: {\n            'content-type': 'application/json'\n        }\n    }\n\n    if (token) {\n        config.headers['Authorization'] = `Token ${token}`;\n    }\n\n    axios.delete('http://127.0.0.1:8000/backend/issues/'+issueId+'/', config)\n        .then(() => {\n            dispatch(goBack());\n            dispatch(getLatestIssues());\n            message.info('Deleted Successfully');\n        })\n        .catch(error => {\n            console.log(error);\n        });\n}\n"]},"metadata":{},"sourceType":"module"}