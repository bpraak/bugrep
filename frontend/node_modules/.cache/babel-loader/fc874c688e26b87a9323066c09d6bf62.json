{"ast":null,"code":"import axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nexport const loadUser = () => (dispatch, getState) => {\n  dispatch({\n    type: 'USER_LOADING'\n  });\n  const token = getState().auth.token;\n  const config = {\n    headers: {\n      'content-type': 'application/json'\n    }\n  };\n\n  if (token) {\n    config.headers['Authorization'] = `Token ${token}`;\n  }\n\n  axios.get('http://127.0.0.1:8000/backend/auth/user', config).then(response => {\n    dispatch({\n      type: 'USER_LOADED',\n      payload: response.data\n    });\n  }).catch(error => {\n    console.log(error);\n    dispatch({\n      type: 'AUTH_ERROR'\n    });\n  });\n};\nexport const setToken = token => dispatch => {\n  dispatch({\n    type: 'LOGIN_SUCCESS',\n    token: token\n  });\n};\nexport const logout = () => dispatch => {\n  dispatch({\n    type: 'LOGOUT'\n  });\n};","map":{"version":3,"sources":["/Users/prakhar/Desktop/IMG_Assignments/django/bugrep/frontend/src/store/actions/authActions.js"],"names":["axios","Redirect","loadUser","dispatch","getState","type","token","auth","config","headers","get","then","response","payload","data","catch","error","console","log","setToken","logout"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAM,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAClDD,EAAAA,QAAQ,CAAC;AAAEE,IAAAA,IAAI,EAAE;AAAR,GAAD,CAAR;AAEA,QAAMC,KAAK,GAAGF,QAAQ,GAAGG,IAAX,CAAgBD,KAA9B;AAEA,QAAME,MAAM,GAAG;AACXC,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX;AADE,GAAf;;AAMA,MAAGH,KAAH,EAAU;AACNE,IAAAA,MAAM,CAACC,OAAP,CAAe,eAAf,IAAmC,SAAQH,KAAM,EAAjD;AACH;;AAEDN,EAAAA,KAAK,CAACU,GAAN,CAAU,yCAAV,EAAqDF,MAArD,EACKG,IADL,CACUC,QAAQ,IAAI;AACdT,IAAAA,QAAQ,CAAC;AACLE,MAAAA,IAAI,EAAE,aADD;AAELQ,MAAAA,OAAO,EAAED,QAAQ,CAACE;AAFb,KAAD,CAAR;AAKH,GAPL,EAQKC,KARL,CAQWC,KAAK,IAAI;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAb,IAAAA,QAAQ,CAAC;AACLE,MAAAA,IAAI,EAAE;AADD,KAAD,CAAR;AAGH,GAbL;AAcH,CA7BM;AA+BP,OAAO,MAAMc,QAAQ,GAAIb,KAAD,IAAWH,QAAQ,IAAI;AAC3CA,EAAAA,QAAQ,CAAC;AACLE,IAAAA,IAAI,EAAE,eADD;AAELC,IAAAA,KAAK,EAAEA;AAFF,GAAD,CAAR;AAIH,CALM;AAOP,OAAO,MAAMc,MAAM,GAAG,MAAOjB,QAAD,IAAc;AACtCA,EAAAA,QAAQ,CAAC;AACLE,IAAAA,IAAI,EAAE;AADD,GAAD,CAAR;AAGH,CAJM","sourcesContent":["import axios from 'axios';\nimport { Redirect } from 'react-router-dom';\n\nexport const loadUser = () => (dispatch, getState) => {\n    dispatch({ type: 'USER_LOADING'});\n\n    const token = getState().auth.token;\n\n    const config = {\n        headers: {\n            'content-type': 'application/json'\n        }\n    }\n\n    if(token) {\n        config.headers['Authorization'] = `Token ${token}`;\n    }\n\n    axios.get('http://127.0.0.1:8000/backend/auth/user', config)\n        .then(response => {\n            dispatch({ \n                type: 'USER_LOADED',\n                payload: response.data,\n            });\n            \n        })\n        .catch(error => {\n            console.log(error);\n            dispatch({\n                type: 'AUTH_ERROR'\n            });\n        });\n}\n\nexport const setToken = (token) => dispatch => {\n    dispatch({ \n        type: 'LOGIN_SUCCESS',\n        token: token,\n    });\n}\n\nexport const logout = () => (dispatch) => {\n    dispatch({\n        type: 'LOGOUT',\n    });\n} \n"]},"metadata":{},"sourceType":"module"}