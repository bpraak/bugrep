{"ast":null,"code":"var _jsxFileName = \"/home/gauransh/Documents/assignments/prakhar/bugrep/frontend/src/components/projects/EditProject.js\";\nimport React from 'react';\nimport { Form, Button, Col, Row, Input, Select, Upload, message } from 'antd';\nimport { InboxOutlined } from '@ant-design/icons';\nimport { Editor } from '@tinymce/tinymce-react';\nimport { editProject } from '../../store/actions/projectActions';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nconst {\n  Option\n} = Select;\nconst {\n  Dragger\n} = Upload;\nconst props = {\n  name: 'logo',\n  multiple: false\n};\n\nclass EditProject extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleUpload = file => {\n      this.setState({\n        logo: file.file\n      });\n    };\n\n    this.handleSubmit = e => {\n      let form_data = new FormData();\n      let update = 0;\n\n      if (e.name != this.props.project.name) {\n        form_data.append('name', e.name);\n        update = 1;\n      }\n\n      if (e.wiki.level) {\n        form_data.append('wiki', e.wiki.level.content);\n        update = 1;\n      }\n\n      if (this.state.logo) {\n        form_data.append('logo', this.state.logo);\n        update = 1;\n      }\n\n      if (update) {\n        this.props.editProject(form_data, this.props.project.id);\n      } else {\n        message.info('No Change');\n      }\n\n      this.setState({\n        logo: null\n      });\n    };\n\n    this.state = {\n      logo: null\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Form, {\n      layout: \"vertical\",\n      onFinish: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"name\",\n      label: \"Name\",\n      rules: [{\n        required: true\n      }],\n      initialValue: this.props.project.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      style: {\n        width: '100%'\n      },\n      placeholder: \"Please enter name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 37\n      }\n    })))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"wiki\",\n      label: \"Wiki\",\n      rules: [{\n        required: true\n      }],\n      initialValue: this.props.project.wiki,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Editor, {\n      apiKey: \"t79x535w9g53fxpaufz1xmkq9728uu7vnibjc2khvdleb7yk\",\n      init: {\n        height: 300,\n        width: '100%',\n        menubar: true,\n        plugins: ['advlist autolink lists link image charmap print preview anchor', 'searchreplace visualblocks code fullscreen', 'insertdatetime media table paste code help wordcount'],\n        toolbar: 'undo redo | formatselect | bold italic backcolor | \\\n                                                alignleft aligncenter alignright alignjustify | \\\n                                                bullist numlist outdent indent | removeformat | help'\n      },\n      defaulValue: this.props.project.wiki,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 37\n      }\n    })))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"logo\",\n      label: \"Logo\",\n      rules: [{\n        required: false\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Dragger, Object.assign({\n      style: {\n        width: \"100%\",\n        padding: '0.5rem'\n      }\n    }, props, {\n      beforeUpload: () => {\n        return false;\n      },\n      onRemove: () => {\n        this.setState({\n          logo: null\n        });\n      },\n      onChange: this.handleUpload,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"ant-upload-drag-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(InboxOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 45\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"ant-upload-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 41\n      }\n    }, \"Click or drag file\"))))), /*#__PURE__*/React.createElement(Row, {\n      justify: 'center',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 37\n      }\n    }, \"Submit\"))))));\n  }\n\n}\n\nEditProject.propTypes = {\n  editProject: PropTypes.func.isRequired\n};\nexport default connect(null, {\n  editProject\n})(EditProject);","map":{"version":3,"sources":["/home/gauransh/Documents/assignments/prakhar/bugrep/frontend/src/components/projects/EditProject.js"],"names":["React","Form","Button","Col","Row","Input","Select","Upload","message","InboxOutlined","Editor","editProject","connect","PropTypes","Option","Dragger","props","name","multiple","EditProject","Component","constructor","handleUpload","file","setState","logo","handleSubmit","e","form_data","FormData","update","project","append","wiki","level","content","state","id","info","render","required","width","height","menubar","plugins","toolbar","padding","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Form, Button, Col, Row, Input, Select, Upload, message } from 'antd';\nimport { InboxOutlined } from '@ant-design/icons';\nimport { Editor } from '@tinymce/tinymce-react';\nimport { editProject } from '../../store/actions/projectActions';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nconst { Option } = Select;\nconst { Dragger } = Upload;\n\nconst props = {\n    name: 'logo',\n    multiple: false,\n};\n\nclass EditProject extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            logo: null\n        }\n    }\n\n    handleUpload = (file) => {\n        this.setState({\n            logo: file.file\n        })\n    }\n\n    static propTypes= {\n        editProject: PropTypes.func.isRequired\n    }\n\n    handleSubmit = e => { \n        let form_data = new FormData();\n        let update = 0;\n        if (e.name != this.props.project.name) {\n            form_data.append('name', e.name);\n            update = 1;\n        }\n        if(e.wiki.level){\n            form_data.append('wiki', e.wiki.level.content);\n            update = 1;\n        }\n        if (this.state.logo) {\n            form_data.append('logo', this.state.logo);\n            update = 1;\n        }\n        if(update){\n            this.props.editProject(form_data, this.props.project.id);\n        } else {\n            message.info('No Change')\n        }\n        this.setState({\n            logo: null\n        })\n    }\n\n    render() {\n        return (\n            <>\n                    <Form layout=\"vertical\" onFinish={this.handleSubmit}>\n                        <Row>\n                            <Col span={24}>\n                                <Form.Item\n                                    name=\"name\"\n                                    label=\"Name\"\n                                    rules={[{ required: true }]}\n                                    initialValue={this.props.project.name}\n                                >\n                                    <Input\n                                        style={{ width: '100%' }}\n                                        placeholder=\"Please enter name\"\n                                    />\n                                </Form.Item>\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col span={24}>\n                                <Form.Item\n                                    name=\"wiki\"\n                                    label=\"Wiki\"\n                                    rules={[\n                                        {\n                                            required: true\n                                        },\n                                    ]}\n                                    initialValue={this.props.project.wiki}\n                                >\n                                    <Editor\n                                        apiKey=\"t79x535w9g53fxpaufz1xmkq9728uu7vnibjc2khvdleb7yk\"\n                                        init={{\n                                            height: 300,\n                                            width: '100%',\n                                            menubar: true,\n                                            plugins: [\n                                                'advlist autolink lists link image charmap print preview anchor',\n                                                'searchreplace visualblocks code fullscreen',\n                                                'insertdatetime media table paste code help wordcount'\n                                            ],\n                                            toolbar:\n                                                'undo redo | formatselect | bold italic backcolor | \\\n                                                alignleft aligncenter alignright alignjustify | \\\n                                                bullist numlist outdent indent | removeformat | help'\n                                        }}\n                                        defaulValue={this.props.project.wiki}\n                                    />\n                                </Form.Item>\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col span={24}>\n                                <Form.Item\n                                    name=\"logo\"\n                                    label=\"Logo\"\n                                    rules={[\n                                        {\n                                            required: false\n                                        },\n                                    ]}\n                                >\n                                    <Dragger\n                                        style={{ width: \"100%\", padding: '0.5rem' }}\n                                        {...props}\n                                        beforeUpload={() => { return false; }}\n                                        onRemove={() => { this.setState({ logo: null }) }}\n                                        onChange={this.handleUpload}\n                                    >\n                                        <p className=\"ant-upload-drag-icon\">\n                                            <InboxOutlined />\n                                        </p>\n                                        <p className=\"ant-upload-text\">Click or drag file</p>\n                                    </Dragger>\n                                </Form.Item>\n                            </Col>\n                        </Row>\n                        <Row justify={'center'}>\n                            <Col>\n                                <Form.Item>\n                                    <Button\n                                        type=\"primary\"\n                                        htmlType=\"submit\"\n                                    >\n                                        Submit\n                                    </Button>\n                                </Form.Item>\n                            </Col>\n                        </Row>\n                    </Form>\n            </>\n        );\n    }\n}\n\nexport default connect(null, { editProject })(EditProject);"]},"metadata":{},"sourceType":"module"}