{"ast":null,"code":"var _jsxFileName = \"/Users/prakhar/Desktop/IMG_Assignments/django/bugrep/frontend/src/components/projects/ProjectDetail.js\";\nimport React from 'react';\nimport { Row, Col, Descriptions, Tabs, Button, Avatar, Modal, message, Spin, Space, Layout } from 'antd';\nimport { DeleteTwoTone, ExclamationCircleOutlined } from '@ant-design/icons';\nimport { connect } from 'react-redux';\nimport ProjectMembers from './ProjectMembers';\nimport ReactHtmlParser from 'react-html-parser';\nimport { deleteProject } from '../../store/actions/projectActions';\nimport PropTypes from 'prop-types';\nimport CreateIssue from '../issues/CreateIssue';\nimport IssueList from '../issues/IssueList';\nimport EditProject from './EditProject';\nconst {\n  TabPane\n} = Tabs;\nconst {\n  confirm\n} = Modal;\nconst {\n  Content\n} = Layout;\n\nconst date = date => {\n  const thedate = new Date(date);\n  return thedate.toDateString();\n};\n\nclass ProjectDetail extends React.Component {\n  constructor(props) {\n    super(props);\n    this.operations = /*#__PURE__*/React.createElement(Row, {\n      gutter: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CreateIssue, {\n      projectId: this.props.project.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }\n    }, this.props.project.members.includes(this.props.user.id) || this.props.user.is_superuser ? /*#__PURE__*/React.createElement(Button, {\n      danger: true,\n      onClick: () => this.confirmDelete(this.handleDelete, this.props.project.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(DeleteTwoTone, {\n      twoToneColor: \"#ff4d4f\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }\n    }), window.innerWidth > 430 ? \"Delete\" : null) : null));\n\n    this.confirmDelete = (handleDelete, id) => {\n      confirm({\n        title: 'Are you sure delete this Project?',\n        icon: /*#__PURE__*/React.createElement(ExclamationCircleOutlined, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 19\n          }\n        }),\n        okText: 'Yes',\n        okType: 'danger',\n        cancelText: 'No',\n\n        onOk() {\n          handleDelete(id);\n        },\n\n        onCancel() {\n          message.info('Delete Cancelled');\n        }\n\n      });\n    };\n\n    this.handleDelete = id => {\n      this.props.deleteProject(id);\n    };\n\n    this.state = {\n      project: null\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.project) {\n      return {\n        project: props.project\n      };\n    }\n  }\n\n  render() {\n    if (!this.state.project) {\n      return /*#__PURE__*/React.createElement(Content, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        align: \"middle\",\n        justify: \"center\",\n        style: {\n          paddingTop: '10rem'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Space, {\n        size: \"middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Spin, {\n        size: \"large\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 29\n        }\n      }))));\n    }\n\n    return /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 22,\n      style: {\n        margin: '1.5rem'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Tabs, {\n      tabBarExtraContent: this.operations,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TabPane, {\n      tab: \"Detail\",\n      key: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      type: \"flex\",\n      justify: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 22,\n      lg: 18,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      gutter: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 41\n      }\n    }, this.props.project.logo ? /*#__PURE__*/React.createElement(Avatar, {\n      src: this.props.project.logo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 72\n      }\n    }) : /*#__PURE__*/React.createElement(Avatar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 115\n      }\n    }, this.props.project.name[0])), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 45\n      }\n    }, this.props.project.name))), /*#__PURE__*/React.createElement(Descriptions, {\n      column: 1,\n      layout: \"vertical\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Descriptions.Item, {\n      label: \"date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"time\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 45\n      }\n    }, date(this.props.project.date))), /*#__PURE__*/React.createElement(Descriptions.Item, {\n      label: \"version\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 41\n      }\n    }, this.props.project.version), /*#__PURE__*/React.createElement(Descriptions.Item, {\n      label: \"Wiki\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 41\n      }\n    }, ReactHtmlParser(this.props.project.wiki)))), /*#__PURE__*/React.createElement(Col, {\n      xs: 22,\n      lg: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(ProjectMembers, {\n      members: this.props.project.members_detail,\n      id: this.props.project.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 37\n      }\n    })))), /*#__PURE__*/React.createElement(TabPane, {\n      tab: \"Bugs\",\n      key: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(IssueList, {\n      projectId: this.props.project.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(TabPane, {\n      tab: \"Edit\",\n      key: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(EditProject, {\n      project: this.props.project,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 29\n      }\n    })))));\n  }\n\n}\n\nProjectDetail.propTypes = {\n  project: PropTypes.object.isRequired,\n  deleteProject: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  project: state.project.allProjects.find(element => element.id == ownProps.match.params.projectId),\n  user: state.auth.user\n});\n\nexport default connect(mapStateToProps, {\n  deleteProject\n})(ProjectDetail);","map":{"version":3,"sources":["/Users/prakhar/Desktop/IMG_Assignments/django/bugrep/frontend/src/components/projects/ProjectDetail.js"],"names":["React","Row","Col","Descriptions","Tabs","Button","Avatar","Modal","message","Spin","Space","Layout","DeleteTwoTone","ExclamationCircleOutlined","connect","ProjectMembers","ReactHtmlParser","deleteProject","PropTypes","CreateIssue","IssueList","EditProject","TabPane","confirm","Content","date","thedate","Date","toDateString","ProjectDetail","Component","constructor","props","operations","project","id","members","includes","user","is_superuser","confirmDelete","handleDelete","window","innerWidth","title","icon","okText","okType","cancelText","onOk","onCancel","info","state","getDerivedStateFromProps","render","paddingTop","margin","logo","name","version","wiki","members_detail","propTypes","object","isRequired","func","mapStateToProps","ownProps","allProjects","find","element","match","params","projectId","auth"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Row, Col, Descriptions, Tabs, Button, Avatar, Modal, message, Spin, Space, Layout } from 'antd';\nimport { DeleteTwoTone, ExclamationCircleOutlined } from '@ant-design/icons';\nimport { connect } from 'react-redux';\nimport ProjectMembers from './ProjectMembers';\nimport ReactHtmlParser from 'react-html-parser';\nimport { deleteProject } from '../../store/actions/projectActions';\nimport PropTypes from 'prop-types';\nimport CreateIssue from '../issues/CreateIssue';\nimport IssueList from '../issues/IssueList';\nimport EditProject from './EditProject';\n\nconst { TabPane } = Tabs;\nconst { confirm } = Modal;\nconst { Content } = Layout;\n\nconst date = (date) => {\n    const thedate = new Date(date);\n    return thedate.toDateString();\n}\n\nclass ProjectDetail extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            project: null\n        }\n    }\n\n    static propTypes= {\n        project: PropTypes.object.isRequired,\n        deleteProject: PropTypes.func.isRequired\n    }\n    \n    operations = (\n        <Row gutter={8}>\n            <Col>\n                <CreateIssue projectId={this.props.project.id}></CreateIssue>\n            </Col>\n            <Col>\n                {this.props.project.members.includes(this.props.user.id)||this.props.user.is_superuser?\n                <Button danger onClick={() => this.confirmDelete(this.handleDelete, this.props.project.id)}>\n                    <DeleteTwoTone twoToneColor='#ff4d4f' />\n                    {window.innerWidth > 430 ? \"Delete\" : null}\n                </Button>:null}\n            </Col>\n        </Row>\n    )\n\n    confirmDelete = (handleDelete, id) => {\n        confirm({\n            title: 'Are you sure delete this Project?',\n            icon: <ExclamationCircleOutlined />,\n            okText: 'Yes',\n            okType: 'danger',\n            cancelText: 'No',\n            onOk() {\n                handleDelete(id);\n            },\n            onCancel() {\n                message.info('Delete Cancelled')\n            },\n        });\n    }\n\n    handleDelete = (id) => {\n        this.props.deleteProject(id);\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        if(props.project){\n            return {\n                project: props.project\n            }\n        }\n    }\n\n    render() {\n        if (!this.state.project){\n            return (\n                <Content>\n                    <Row align=\"middle\" justify=\"center\" style={{ paddingTop: '10rem' }}>\n                        <Space size=\"middle\">\n                            <Spin size=\"large\" />\n                        </Space>\n                    </Row>\n                </Content>\n            )\n        }\n        return (\n            <Row>\n                <Col span={22} style={{ margin: '1.5rem' }}>\n                    <Tabs tabBarExtraContent={this.operations}>\n                        <TabPane tab=\"Detail\" key=\"1\">\n                            <Row type=\"flex\" justify=\"center\">\n                                <Col xs={22} lg={18}>\n                                    <Row gutter={16}>\n                                        <Col>\n                                            {this.props.project.logo ? <Avatar src={this.props.project.logo} /> : <Avatar>{this.props.project.name[0]}</Avatar>}\n                                        </Col>\n                                        <Col>\n                                            <h2>{this.props.project.name}</h2>\n                                        </Col>\n                                    </Row>\n                                    <Descriptions column={1} layout=\"vertical\">\n                                        <Descriptions.Item label=\"date\">\n                                            <time>\n                                                {date(this.props.project.date)}\n                                            </time>\n                                        </Descriptions.Item>\n                                        <Descriptions.Item label=\"version\">{this.props.project.version}</Descriptions.Item>\n                                        <Descriptions.Item label=\"Wiki\">{ReactHtmlParser(this.props.project.wiki)}</Descriptions.Item>\n                                    </Descriptions>\n                                </Col>\n                                <Col xs={22} lg={6}>\n                                    <ProjectMembers members={this.props.project.members_detail} id={this.props.project.id} />\n                                </Col>\n                            </Row>\n                        </TabPane>\n                        <TabPane tab=\"Bugs\" key=\"2\">\n                            <IssueList projectId={this.props.project.id} />\n                        </TabPane>\n                        <TabPane tab=\"Edit\" key=\"3\">\n                            <EditProject project={this.props.project} />\n                        </TabPane>\n                    </Tabs>\n                </Col>\n            </Row>\n        );\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n    project: state.project.allProjects.find(element => element.id == ownProps.match.params.projectId),\n    user: state.auth.user\n})\n\nexport default connect(mapStateToProps, { deleteProject })(ProjectDetail);"]},"metadata":{},"sourceType":"module"}