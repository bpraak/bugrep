{"ast":null,"code":"var _jsxFileName = \"/Users/prakhar/Desktop/IMG_Assignments/django/bugrep/frontend/src/components/projects/CreateProject.js\";\nimport React from 'react';\nimport { Drawer, Form, Button, Col, Row, Input, Select, Upload, InputNumber } from 'antd';\nimport { PlusOutlined, InboxOutlined } from '@ant-design/icons';\nimport { Editor } from '@tinymce/tinymce-react';\nimport { getUsers } from '../../store/actions/userActions';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createProject } from '../../store/actions/projectActions';\nimport Loader from '../../common/Loader';\nconst {\n  Option\n} = Select;\nconst {\n  Dragger\n} = Upload;\nconst props = {\n  name: 'logo',\n  multiple: false\n};\n\nclass CreateProject extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.showDrawer = () => {\n      this.setState({\n        visible: true\n      });\n    };\n\n    this.onClose = () => {\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.handleUpload = file => {\n      this.setState({\n        logo: file.file\n      });\n    };\n\n    this.handleSubmit = e => {\n      console.log(e);\n      let form_data = new FormData();\n      form_data.append('name', e.name);\n      form_data.append('wiki', e.wiki.level.content);\n      form_data.append('version', e.version);\n      form_data.append('user', this.props.userId);\n\n      if (e.logo.file) {\n        form_data.append('logo', e.logo.file, e.logo.file.name);\n      }\n\n      let userAppend = 1;\n\n      for (const val of e.members) {\n        form_data.append('members', val);\n\n        if (val === this.props.userId) {\n          userAppend = 0;\n        }\n      }\n\n      if (userAppend) {\n        form_data.append('members', this.props.userId);\n      }\n\n      this.setState({\n        loading: true\n      }); // this.props.createProject(form_data);\n\n      this.setState({\n        logo: null\n      });\n    };\n\n    this.state = {\n      visible: false,\n      logo: null,\n      loading: false\n    };\n  }\n\n  componentDidMount() {\n    this.props.getUsers();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      onClick: this.showDrawer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(PlusOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }), \" Add Project\"), /*#__PURE__*/React.createElement(Drawer, {\n      title: \"Add a New Project\",\n      width: window.innerWidth > 900 ? 800 : window.innerWidth - 100,\n      onClose: this.onClose,\n      visible: this.state.visible,\n      bodyStyle: {\n        paddingBottom: 80\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, this.state.loading ? /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 41\n      }\n    }) : /*#__PURE__*/React.createElement(Form, {\n      layout: \"vertical\",\n      onFinish: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"name\",\n      label: \"Name\",\n      rules: [{\n        required: true\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      style: {\n        width: '100%'\n      },\n      placeholder: \"Please enter name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 37\n      }\n    })))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"wiki\",\n      label: \"Wiki\",\n      rules: [{\n        required: true\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Editor, {\n      apiKey: \"t79x535w9g53fxpaufz1xmkq9728uu7vnibjc2khvdleb7yk\",\n      init: {\n        height: 300,\n        width: '100%',\n        menubar: true,\n        plugins: ['advlist autolink lists link image charmap print preview anchor', 'searchreplace visualblocks code fullscreen', 'insertdatetime media table paste code help wordcount'],\n        toolbar: 'undo redo | formatselect | bold italic backcolor | \\\n                                                alignleft aligncenter alignright alignjustify | \\\n                                                bullist numlist outdent indent | removeformat | help'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 37\n      }\n    })))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"version\",\n      label: \"Version\",\n      rules: [{\n        required: true\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(InputNumber, {\n      min: 0,\n      step: 0.1,\n      style: {\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 37\n      }\n    })))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"members\",\n      label: \"Members\",\n      rules: [{\n        required: false\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Select, {\n      showSearch: true,\n      filterOption: (input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0,\n      mode: \"multiple\",\n      style: {\n        width: '100%'\n      },\n      placeholder: \"Please select members\",\n      optionLabelProp: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 37\n      }\n    }, this.props.users ? this.props.users.map((user, index) => {\n      return /*#__PURE__*/React.createElement(Option, {\n        value: user.id,\n        label: user.first_name + ' ' + user.last_name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 52\n        }\n      }, user.first_name + ' ' + user.last_name);\n    }) : '')))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"logo\",\n      label: \"Logo\",\n      rules: [{\n        required: false\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Dragger, Object.assign({\n      style: {\n        width: \"100%\",\n        padding: '0.5rem'\n      }\n    }, props, {\n      beforeUpload: () => {\n        return false;\n      },\n      onRemove: () => {\n        this.setState({\n          logo: null\n        });\n      },\n      action: this.handleUpload,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"ant-upload-drag-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(InboxOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 45\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"ant-upload-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 41\n      }\n    }, \"Click or drag file\"))))), /*#__PURE__*/React.createElement(Row, {\n      justify: 'center',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 37\n      }\n    }, \"Submit\")))))));\n  }\n\n}\n\nCreateProject.propTypes = {\n  getUsers: PropTypes.func.isRequired,\n  users: PropTypes.array.isRequired\n};\n\nconst mapStateToProps = state => ({\n  users: state.user.users,\n  userId: state.auth.user.id\n});\n\nexport default connect(mapStateToProps, {\n  getUsers,\n  createProject\n})(CreateProject);","map":{"version":3,"sources":["/Users/prakhar/Desktop/IMG_Assignments/django/bugrep/frontend/src/components/projects/CreateProject.js"],"names":["React","Drawer","Form","Button","Col","Row","Input","Select","Upload","InputNumber","PlusOutlined","InboxOutlined","Editor","getUsers","PropTypes","connect","createProject","Loader","Option","Dragger","props","name","multiple","CreateProject","Component","constructor","showDrawer","setState","visible","onClose","handleUpload","file","logo","handleSubmit","e","console","log","form_data","FormData","append","wiki","level","content","version","userId","userAppend","val","members","loading","state","componentDidMount","render","window","innerWidth","paddingBottom","required","width","height","menubar","plugins","toolbar","input","option","children","toLowerCase","indexOf","users","map","user","index","id","first_name","last_name","padding","propTypes","func","isRequired","array","mapStateToProps","auth"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,MAAvB,EAA+BC,GAA/B,EAAoCC,GAApC,EAAyCC,KAAzC,EAAgDC,MAAhD,EAAwDC,MAAxD,EAAgEC,WAAhE,QAAmF,MAAnF;AACA,SAASC,YAAT,EAAuBC,aAAvB,QAA4C,mBAA5C;AACA,SAASC,MAAT,QAAuB,wBAAvB;AACA,SAASC,QAAT,QAAyB,iCAAzB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,aAAT,QAA8B,oCAA9B;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAaX,MAAnB;AACA,MAAM;AAAEY,EAAAA;AAAF,IAAcX,MAApB;AAEA,MAAMY,KAAK,GAAG;AACVC,EAAAA,IAAI,EAAE,MADI;AAEVC,EAAAA,QAAQ,EAAE;AAFA,CAAd;;AAKA,MAAMC,aAAN,SAA4BvB,KAAK,CAACwB,SAAlC,CAA4C;AACxCC,EAAAA,WAAW,CAACL,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAkBnBM,UAlBmB,GAkBN,MAAM;AACf,WAAKC,QAAL,CAAc;AACVC,QAAAA,OAAO,EAAE;AADC,OAAd;AAGH,KAtBkB;;AAAA,SAwBnBC,OAxBmB,GAwBT,MAAM;AACZ,WAAKF,QAAL,CAAc;AACVC,QAAAA,OAAO,EAAE;AADC,OAAd;AAGH,KA5BkB;;AAAA,SA8BnBE,YA9BmB,GA8BHC,IAAD,IAAU;AACrB,WAAKJ,QAAL,CAAc;AACVK,QAAAA,IAAI,EAAED,IAAI,CAACA;AADD,OAAd;AAGH,KAlCkB;;AAAA,SAoCnBE,YApCmB,GAoCJC,CAAC,IAAI;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,UAAIG,SAAS,GAAG,IAAIC,QAAJ,EAAhB;AACAD,MAAAA,SAAS,CAACE,MAAV,CAAiB,MAAjB,EAAyBL,CAAC,CAACb,IAA3B;AACAgB,MAAAA,SAAS,CAACE,MAAV,CAAiB,MAAjB,EAAyBL,CAAC,CAACM,IAAF,CAAOC,KAAP,CAAaC,OAAtC;AACAL,MAAAA,SAAS,CAACE,MAAV,CAAiB,SAAjB,EAA4BL,CAAC,CAACS,OAA9B;AACAN,MAAAA,SAAS,CAACE,MAAV,CAAiB,MAAjB,EAAyB,KAAKnB,KAAL,CAAWwB,MAApC;;AACA,UAAIV,CAAC,CAACF,IAAF,CAAOD,IAAX,EAAiB;AACbM,QAAAA,SAAS,CAACE,MAAV,CAAiB,MAAjB,EAAyBL,CAAC,CAACF,IAAF,CAAOD,IAAhC,EAAsCG,CAAC,CAACF,IAAF,CAAOD,IAAP,CAAYV,IAAlD;AACH;;AACD,UAAIwB,UAAU,GAAG,CAAjB;;AACA,WAAK,MAAMC,GAAX,IAAkBZ,CAAC,CAACa,OAApB,EAA4B;AACxBV,QAAAA,SAAS,CAACE,MAAV,CAAiB,SAAjB,EAA4BO,GAA5B;;AACA,YAAGA,GAAG,KAAK,KAAK1B,KAAL,CAAWwB,MAAtB,EAA6B;AACzBC,UAAAA,UAAU,GAAG,CAAb;AACH;AACJ;;AACD,UAAGA,UAAH,EAAc;AACVR,QAAAA,SAAS,CAACE,MAAV,CAAiB,SAAjB,EAA4B,KAAKnB,KAAL,CAAWwB,MAAvC;AACH;;AACD,WAAKjB,QAAL,CAAc;AACVqB,QAAAA,OAAO,EAAE;AADC,OAAd,EApBgB,CAuBhB;;AACA,WAAKrB,QAAL,CAAc;AACVK,QAAAA,IAAI,EAAE;AADI,OAAd;AAGH,KA/DkB;;AAEf,SAAKiB,KAAL,GAAa;AACTrB,MAAAA,OAAO,EAAE,KADA;AAETI,MAAAA,IAAI,EAAE,IAFG;AAGTgB,MAAAA,OAAO,EAAE;AAHA,KAAb;AAKH;;AAODE,EAAAA,iBAAiB,GAAG;AAChB,SAAK9B,KAAL,CAAWP,QAAX;AACH;;AAiDDsC,EAAAA,MAAM,GAAG;AACL,wBACI,uDACI,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,OAAO,EAAE,KAAKzB,UAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,iBADJ,eAII,oBAAC,MAAD;AACI,MAAA,KAAK,EAAC,mBADV;AAEI,MAAA,KAAK,EAAE0B,MAAM,CAACC,UAAP,GAAoB,GAApB,GAA0B,GAA1B,GAAgCD,MAAM,CAACC,UAAP,GAAoB,GAF/D;AAGI,MAAA,OAAO,EAAE,KAAKxB,OAHlB;AAII,MAAA,OAAO,EAAE,KAAKoB,KAAL,CAAWrB,OAJxB;AAKI,MAAA,SAAS,EAAE;AAAE0B,QAAAA,aAAa,EAAE;AAAjB,OALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOK,KAAKL,KAAL,CAAWD,OAAX,gBAAmB,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAnB,gBACD,oBAAC,IAAD;AAAM,MAAA,MAAM,EAAC,UAAb;AAAwB,MAAA,QAAQ,EAAE,KAAKf,YAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAE,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,IAAN;AACI,MAAA,IAAI,EAAC,MADT;AAEI,MAAA,KAAK,EAAC,MAFV;AAGI,MAAA,KAAK,EAAE,CAAC;AAAEsB,QAAAA,QAAQ,EAAE;AAAZ,OAAD,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKI,oBAAC,KAAD;AACI,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE;AAAT,OADX;AAEI,MAAA,WAAW,EAAC,mBAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,CADJ,CADJ,CADJ,eAeI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAE,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,IAAN;AACI,MAAA,IAAI,EAAC,MADT;AAEI,MAAA,KAAK,EAAC,MAFV;AAGI,MAAA,KAAK,EAAE,CACH;AACID,QAAAA,QAAQ,EAAE;AADd,OADG,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAUI,oBAAC,MAAD;AACI,MAAA,MAAM,EAAC,kDADX;AAEI,MAAA,IAAI,EAAE;AACFE,QAAAA,MAAM,EAAE,GADN;AAEFD,QAAAA,KAAK,EAAE,MAFL;AAGFE,QAAAA,OAAO,EAAE,IAHP;AAIFC,QAAAA,OAAO,EAAE,CACL,gEADK,EAEL,4CAFK,EAGL,sDAHK,CAJP;AASFC,QAAAA,OAAO,EACH;;;AAVF,OAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVJ,CADJ,CADJ,CAfJ,eA+CI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,IAAN;AACI,MAAA,IAAI,EAAC,SADT;AAEI,MAAA,KAAK,EAAC,SAFV;AAGI,MAAA,KAAK,EAAE,CAAC;AAAEL,QAAAA,QAAQ,EAAE;AAAZ,OAAD,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKI,oBAAC,WAAD;AACI,MAAA,GAAG,EAAE,CADT;AAEI,MAAA,IAAI,EAAE,GAFV;AAGI,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,CADJ,CADJ,CA/CJ,eA8DI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAE,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,IAAN;AACI,MAAA,IAAI,EAAC,SADT;AAEI,MAAA,KAAK,EAAC,SAFV;AAGI,MAAA,KAAK,EAAE,CAAC;AAAED,QAAAA,QAAQ,EAAE;AAAZ,OAAD,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKI,oBAAC,MAAD;AACI,MAAA,UAAU,MADd;AAEI,MAAA,YAAY,EAAE,CAACM,KAAD,EAAQC,MAAR,KACVA,MAAM,CAACC,QAAP,CAAgBC,WAAhB,GAA8BC,OAA9B,CAAsCJ,KAAK,CAACG,WAAN,EAAtC,KAA8D,CAHtE;AAKI,MAAA,IAAI,EAAC,UALT;AAMI,MAAA,KAAK,EAAE;AAAER,QAAAA,KAAK,EAAE;AAAT,OANX;AAOI,MAAA,WAAW,EAAC,uBAPhB;AAQI,MAAA,eAAe,EAAC,OARpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAUK,KAAKpC,KAAL,CAAW8C,KAAX,GAAiB,KAAK9C,KAAL,CAAW8C,KAAX,CAAiBC,GAAjB,CAAqB,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACpD,0BAAO,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAED,IAAI,CAACE,EAApB;AAAwB,QAAA,KAAK,EAAEF,IAAI,CAACG,UAAL,GAAkB,GAAlB,GAAwBH,IAAI,CAACI,SAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAwEJ,IAAI,CAACG,UAAL,GAAkB,GAAlB,GAAwBH,IAAI,CAACI,SAArG,CAAP;AACH,KAFiB,CAAjB,GAEE,EAZP,CALJ,CADJ,CADJ,CA9DJ,eAsFI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAE,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,IAAN;AACI,MAAA,IAAI,EAAC,MADT;AAEI,MAAA,KAAK,EAAC,MAFV;AAGI,MAAA,KAAK,EAAE,CACH;AACIjB,QAAAA,QAAQ,EAAE;AADd,OADG,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBASI,oBAAC,OAAD;AACI,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE,MAAT;AAAiBiB,QAAAA,OAAO,EAAE;AAA1B;AADX,OAEQrD,KAFR;AAGI,MAAA,YAAY,EAAE,MAAM;AAAE,eAAO,KAAP;AAAe,OAHzC;AAII,MAAA,QAAQ,EAAE,MAAM;AAAE,aAAKO,QAAL,CAAc;AAAEK,UAAAA,IAAI,EAAE;AAAR,SAAd;AAA+B,OAJrD;AAKI,MAAA,MAAM,EAAE,KAAKF,YALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAOI;AAAG,MAAA,SAAS,EAAC,sBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAPJ,eAUI;AAAG,MAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAVJ,CATJ,CADJ,CADJ,CAtFJ,eAgHI,oBAAC,GAAD;AAAK,MAAA,OAAO,EAAE,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AACI,MAAA,IAAI,EAAC,SADT;AAEI,MAAA,QAAQ,EAAC,QAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CADJ,CADJ,CAhHJ,CARJ,CAJJ,CADJ;AA6IH;;AAhNuC;;AAAtCP,a,CAUKmD,S,GAAY;AACf7D,EAAAA,QAAQ,EAAEC,SAAS,CAAC6D,IAAV,CAAeC,UADV;AAEfV,EAAAA,KAAK,EAAEpD,SAAS,CAAC+D,KAAV,CAAgBD;AAFR,C;;AAyMvB,MAAME,eAAe,GAAG7B,KAAK,KAAK;AAC9BiB,EAAAA,KAAK,EAAEjB,KAAK,CAACmB,IAAN,CAAWF,KADY;AAE9BtB,EAAAA,MAAM,EAAEK,KAAK,CAAC8B,IAAN,CAAWX,IAAX,CAAgBE;AAFM,CAAL,CAA7B;;AAKA,eAAevD,OAAO,CAAC+D,eAAD,EAAkB;AAAEjE,EAAAA,QAAF;AAAYG,EAAAA;AAAZ,CAAlB,CAAP,CAAsDO,aAAtD,CAAf","sourcesContent":["import React from 'react';\nimport { Drawer, Form, Button, Col, Row, Input, Select, Upload, InputNumber } from 'antd';\nimport { PlusOutlined, InboxOutlined } from '@ant-design/icons';\nimport { Editor } from '@tinymce/tinymce-react';\nimport { getUsers } from '../../store/actions/userActions';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createProject } from '../../store/actions/projectActions';\nimport Loader from '../../common/Loader';\n\nconst { Option } = Select;\nconst { Dragger } = Upload;\n\nconst props = {\n    name: 'logo',\n    multiple: false,\n};\n\nclass CreateProject extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            visible: false,\n            logo: null,\n            loading: false\n        }\n    }\n\n    static propTypes = {\n        getUsers: PropTypes.func.isRequired,\n        users: PropTypes.array.isRequired\n    }\n\n    componentDidMount() {\n        this.props.getUsers()\n    }\n\n    showDrawer = () => {\n        this.setState({\n            visible: true,\n        });\n    };\n\n    onClose = () => {\n        this.setState({\n            visible: false,\n        });\n    };\n\n    handleUpload = (file) => {\n        this.setState({\n            logo: file.file\n        })\n    }\n\n    handleSubmit = e => {\n        console.log(e);\n        let form_data = new FormData();\n        form_data.append('name', e.name);\n        form_data.append('wiki', e.wiki.level.content);\n        form_data.append('version', e.version);\n        form_data.append('user', this.props.userId)\n        if (e.logo.file) {\n            form_data.append('logo', e.logo.file, e.logo.file.name);\n        }\n        let userAppend = 1;\n        for (const val of e.members){\n            form_data.append('members', val);\n            if(val === this.props.userId){\n                userAppend = 0\n            }\n        }\n        if(userAppend){\n            form_data.append('members', this.props.userId);\n        }\n        this.setState({\n            loading: true\n        })\n        // this.props.createProject(form_data);\n        this.setState({\n            logo: null\n        })\n    }\n\n    render() {\n        return (\n            <>\n                <Button type=\"primary\" onClick={this.showDrawer}>\n                    <PlusOutlined /> Add Project\n                </Button>\n                <Drawer\n                    title=\"Add a New Project\"\n                    width={window.innerWidth > 900 ? 800 : window.innerWidth - 100}\n                    onClose={this.onClose}\n                    visible={this.state.visible}\n                    bodyStyle={{ paddingBottom: 80 }}\n                >\n                    {this.state.loading?<Loader />:\n                    <Form layout=\"vertical\" onFinish={this.handleSubmit}>\n                        <Row>\n                            <Col span={24}>\n                                <Form.Item\n                                    name=\"name\"\n                                    label=\"Name\"\n                                    rules={[{ required: true }]}\n                                >\n                                    <Input\n                                        style={{ width: '100%' }}\n                                        placeholder=\"Please enter name\"\n                                    />\n                                </Form.Item>\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col span={24}>\n                                <Form.Item\n                                    name=\"wiki\"\n                                    label=\"Wiki\"\n                                    rules={[\n                                        {\n                                            required: true\n                                        },\n                                    ]}\n\n                                >\n                                    <Editor\n                                        apiKey=\"t79x535w9g53fxpaufz1xmkq9728uu7vnibjc2khvdleb7yk\"\n                                        init={{\n                                            height: 300,\n                                            width: '100%',\n                                            menubar: true,\n                                            plugins: [\n                                                'advlist autolink lists link image charmap print preview anchor',\n                                                'searchreplace visualblocks code fullscreen',\n                                                'insertdatetime media table paste code help wordcount'\n                                            ],\n                                            toolbar:\n                                                'undo redo | formatselect | bold italic backcolor | \\\n                                                alignleft aligncenter alignright alignjustify | \\\n                                                bullist numlist outdent indent | removeformat | help'\n                                        }}\n                                    />\n                                </Form.Item>\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col>\n                                <Form.Item\n                                    name=\"version\"\n                                    label=\"Version\"\n                                    rules={[{ required: true }]}\n                                >\n                                    <InputNumber \n                                        min={0} \n                                        step={0.1}\n                                        style={{ width: '100%' }}\n                                    />\n                                </Form.Item>\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col span={24}>\n                                <Form.Item\n                                    name=\"members\"\n                                    label=\"Members\"\n                                    rules={[{ required: false }]}\n                                >\n                                    <Select\n                                        showSearch\n                                        filterOption={(input, option) =>\n                                            option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                                        }\n                                        mode=\"multiple\"\n                                        style={{ width: '100%' }}\n                                        placeholder=\"Please select members\"\n                                        optionLabelProp=\"label\"\n                                    >\n                                        {this.props.users?this.props.users.map((user, index) => {\n                                            return <Option value={user.id} label={user.first_name + ' ' + user.last_name}>{user.first_name + ' ' + user.last_name}</Option>\n                                        }):''}\n                                    </Select>\n                                </Form.Item>\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col span={24}>\n                                <Form.Item\n                                    name=\"logo\"\n                                    label=\"Logo\"\n                                    rules={[\n                                        {\n                                            required: false\n                                        },\n                                    ]}\n                                >\n                                    <Dragger\n                                        style={{ width: \"100%\", padding: '0.5rem' }}\n                                        {...props}\n                                        beforeUpload={() => { return false; }}\n                                        onRemove={() => { this.setState({ logo: null }) }}\n                                        action={this.handleUpload}\n                                    >\n                                        <p className=\"ant-upload-drag-icon\">\n                                            <InboxOutlined />\n                                        </p>\n                                        <p className=\"ant-upload-text\">Click or drag file</p>\n                                    </Dragger>\n                                </Form.Item>\n                            </Col>\n                        </Row>\n                        <Row justify={'center'}>\n                            <Col>\n                                <Form.Item>\n                                    <Button\n                                        type=\"primary\"\n                                        htmlType=\"submit\"\n                                    >\n                                        Submit\n                                    </Button>\n                                </Form.Item>\n                            </Col>\n                        </Row>\n                    </Form>}\n                </Drawer>\n            </>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    users: state.user.users,\n    userId: state.auth.user.id\n})\n\nexport default connect(mapStateToProps, { getUsers, createProject })(CreateProject);"]},"metadata":{},"sourceType":"module"}